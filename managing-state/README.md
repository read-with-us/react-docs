# Managing State

- [Managing State](#managing-state-1)
   - [ğŸ¤·â€â™€ï¸ ì§ˆë¬¸](#ï¸-ì§ˆë¬¸)
- [Reacting to Input with State](#reacting-to-input-with-state)
  - [ğŸ¤·â€â™€ï¸ ì§ˆë¬¸](#ï¸-ì§ˆë¬¸)
- [Choosing the State Structure](#choosing-the-state-structure)
- [Sharing State Between Components](#sharing-state-between-components)

> **Note**
>
> 'Managing State' ì±•í„°ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë‹¤ë£¹ë‹ˆë‹¤.
>
> - UI ë³€í™”ë¥¼ ìƒíƒœ ë³€í™”ë¡œ ìƒê°í•˜ëŠ” ë°©ë²•
> - ìƒíƒœë¥¼ ì˜ êµ¬ì¡°í™”í•˜ëŠ” ë°©ë²•
> - ì»´í¬ë„ŒíŠ¸ ê°„ ìƒíƒœë¥¼ ê³µìœ í•˜ê¸° ìœ„í•´ 'ìƒíƒœë¥¼ ìƒìœ„ë¡œ ì˜¬ë¦¬ëŠ”' ë°©ë²•
> - ìƒíƒœì˜ ë³´ì¡´ ë˜ëŠ” ì´ˆê¸°í™” ì—¬ë¶€ë¥¼ ì œì–´í•˜ëŠ” ë°©ë²•
> - ë³µì¡í•œ ìƒíƒœ ë¡œì§ì„ í•¨ìˆ˜ë¡œ í†µí•©í•˜ëŠ” ë°©ë²•
> - 'Prop drilling' ì—†ì´ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²•
> - ì•±ì´ ì„±ì¥í•¨ì— ë”°ë¼ ìƒíƒœ ê´€ë¦¬ë¥¼ í™•ì¥í•˜ëŠ” ë°©ë²•

## Managing State

1. > ì´ëŠ” ë””ìì´ë„ˆê°€ UIë¥¼ ë°”ë¼ë³´ëŠ” ë°©ì‹ê³¼ ë¹„ìŠ·í•©ë‹ˆë‹¤.
   - ì¬ë°Œê³  ê³µê°ê°€ëŠ” í‘œí˜„!
2. > ê° actionì— ëŒ€í•œ state ì—…ë°ì´íŠ¸ ë°©ë²•ì€ íŒŒì¼ ë§¨ ë§ˆì§€ë§‰ ë¶€ë¶„ì˜ reducer í•¨ìˆ˜ì— ëª…ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤.
   - useReducerë¥¼ ì œëŒ€ë¡œ ì‚¬ìš©í•´ë³¸ ì ì´ ì—†ëŠ” ê²ƒ ê°™ì•„ìš”..! ë¦¬ë•ìŠ¤ë‘ ì‚¬ìš© ë°©ì‹ì´ ë¹„ìŠ·í•˜êµ°ìš”..!!
3. 
```
import Heading from './Heading.js';
import Section from './Section.js';

export default function Page() {
  return (
    <Section>
      <Heading>Title</Heading>
      <Section>
        <Heading>Heading</Heading>
        <Heading>Heading</Heading>
        <Heading>Heading</Heading>
        <Section>
          <Heading>Sub-heading</Heading>
          <Heading>Sub-heading</Heading>
          <Heading>Sub-heading</Heading>
          <Section>
            <Heading>Sub-sub-heading</Heading>
            <Heading>Sub-sub-heading</Heading>
            <Heading>Sub-sub-heading</Heading>
          </Section>
        </Section>
      </Section>
    </Section>
  );
}
```
  - ì»´í¬ë„ŒíŠ¸ ë³¸ë¬¸ì´ switch/caseë¡œ ì²˜ë¦¬ëœ ë°©ì‹ì„ ì²˜ìŒ ë´¤ì–´ìš”. ì‹ ì„ í•˜ë„¤ìš”!

  ### ğŸ¤·â€â™€ï¸ ì§ˆë¬¸

- Q: ê°œë°œ í•  ë•Œ useReducer ë§ì´ë“¤ ì‚¬ìš©í•˜ì‹œë‚˜ìš”?
- A: íšŒì‚¬ì—ì„œ í•œë²ˆë„ ì‚¬ìš©í•´ë³¸ì ì´ ì—†ëŠ”ê²ƒê°™ì•„ìš”
    
## Reacting to Input with State
1. > ìš´ì „ê¸°ì‚¬ì—ê²Œ ì–´ë””ì„œ êº¾ì–´ì•¼ í• ì§€ ì•Œë ¤ì£¼ëŠ”ê²Œ ì•„ë‹ˆë¼ ê°€ê³  ì‹¶ì€ ê³³ì„ ë§í•œë‹¤ê³  ìƒê°í•´ ë³´ì„¸ìš”. ë‹¹ì‹ ì„ ê±°ê¸°ê¹Œì§€ ë°ë ¤ë‹¤ì£¼ëŠ” ê²ƒì€ ìš´ì „ê¸°ì‚¬ì˜ ì¼ì´ê³  ìš´ì „ê¸°ì‚¬ëŠ” ì–´ì©Œë©´ ë‹¹ì‹ ì´ ëª°ëë˜ ì§€ë¦„ê¸¸ì„ ì•Œê³  ìˆì„ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤!
  - ì—­ì‹œ ì¼ì€ ì „ë¬¸ê°€ì—ê²Œ ğŸ‘
2. > ì—¬ëŸ¬ê°€ì§€ â€œstateâ€ë¥¼ ê°€ì§€ê³  ìˆëŠ” â€œìƒíƒœ ê¸°ê³„â€ë¼ëŠ” ê²ƒì„ ì»´í“¨í„° ê³¼í•™ì—ì„œ ë“¤ì–´ë³¸ ì ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë””ìì´ë„ˆì™€ ì¼í•œë‹¤ë©´ ë‹¤ì–‘í•œ â€œì‹œê°ì  stateâ€ì— ê´€í•œ ëª¨í˜•ì„ ë³¸ ì ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
    -  ì±—ì§€í”¼í‹° ë‹µë³€: https://chat.openai.com/share/3307058a-dc9a-4e21-894f-0fdf6cb132b7
3. > ëª©í‘œëŠ” stateê°€ ì‚¬ìš©ìì—ê²Œ ìœ íš¨í•œ UIë¥¼ ë³´ì—¬ì£¼ì§€ ì•ŠëŠ” ê²½ìš°ë¥¼ ë°©ì§€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. (ì˜ˆë¥¼ ë“¤ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚¬ëŠ”ë° ì¸í’‹ì´ ë¹„í™œì„±í™” ë¼ ìˆì–´ ìœ ì €ê°€ ì˜¤ë¥˜ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ëŠ”
  - UX ê´€ë ¨ ì–¸ê¸‰ë„ ìˆì–´ì„œ ì¬ë°Œë„¤ìš”..! ã…ã…ã…
4. > ë¦¬ë“€ì„œë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ state ë³€ìˆ˜ë¥¼ í•˜ë‚˜ì˜ ê°ì²´ë¡œ í†µí•©í•˜ê³  ê´€ë ¨ëœ ëª¨ë“  ë¡œì§ë„ í•©ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤!
    - ì•„ì§ íšŒì‚¬ì—ì„œ ê°œë°œí• ë•Œ ë¦¬ë“€ì„œë¥¼ ì‚¬ìš©í•´ ë³¸ ì ì´ ì—†ëŠ”ë° ë‹¤ìŒ ìŠ¤í„°ë”” ë•Œ ë¦¬ë“€ì„œì™€ ì¢€ ë” ì¹œí•´ì ¸ì„œ ì˜ í™œìš©í•˜ê²Œ ë  ìˆ˜ ìˆê¸°ë¥¼â€¦ë°”ë¼ë©°..
    - ì €ë„ ì˜ ì¨ë³´ì§€ ëª»í–ˆì–´ìš”! ì»¤ìŠ¤í…€ í›…ì´ë‘ ì–´ë–¤ ì°¨ì´ê°€ ìˆëŠ”ì§€ ê°ê° ì–¸ì œ ì¨ì•¼í•˜ëŠ”ì§€ ê¶ê¸ˆí•´ì§€ë„¤ìš”. ì•„ë§ˆ Escape Hatchesì—ì„œ ë‚˜ì˜¤ê² ì£ ?
5. > ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë°ì€ UIë¥¼ ì„¸ë°€í•˜ê²Œ ì§ì ‘ ì¡°ì‘í•˜ëŠ” ê²ƒ(ëª…ë ¹í˜•)ì´ ì•„ë‹ˆë¼ ê°ê°ì˜ ì‹œê°ì  stateë¡œ UIë¥¼ ë¬˜ì‚¬í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
    - ê°œì¸ì ìœ¼ë¡œ 'ëª…ë ¹í˜•' ì´ë¼ëŠ” ë§ì´ ì˜ ì™€ë‹¿ì§€ ì•Šì•˜ëŠ”ë° micromanaging ì´ë¼ê³  í•˜ë‹ˆ í™•ì‹¤íˆ ì•Œê² ì–´ìš”..!

  ### ğŸ¤·â€â™€ï¸ ì§ˆë¬¸

- Q: í˜¹ì‹œ state machine ì— ëŒ€í•´ ë“¤ì–´ë³´ì‹ ë¶„ì´ ê³„ì‹¤ê¹Œìš”?
- A: ì „ ì…ì‚¬ í•˜ê³  ì²« í”„ë¡œì íŠ¸ì—ì„œ xstateë¼ëŠ” js ìƒíƒœë¨¸ì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ëŠ”ê±¸ ê³ëˆˆì§ˆë¡œ ë´¤ì—ˆì–´ìš”! ìƒíƒœê´€ë¦¬ ëª©ì ìœ¼ë¡œ ì‚¬ìš©í–ˆì—ˆëŠ”ë° ëŸ¬ë‹ì»¤ë¸Œê°€ ì¢€ ìˆê¸´ í•˜ë”ë¼êµ¬ìš”â€¦
## Choosing the State Structure
1. > ë¶€ëª¨ êµ¬ì„± ìš”ì†Œê°€ ë‹¤ë¥¸ ê°’ì„ ì „ë‹¬í•˜ëŠ” ê²½ìš°messageColorë‚˜ì¤‘ì—(ì˜ˆ:'red'ëŒ€ì‹ ì—'blue'),color ìƒíƒœ ë³€ìˆ˜ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤!ìƒíƒœëŠ” ì²« ë²ˆì§¸ ë Œë”ë§ ì¤‘ì—ë§Œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.
   - ì´ë ‡ê²Œ propì„ ë°”ë¡œ stateì— ë„£ì–´ì„œ ì‚¬ìš©í•´ ë³¸ ì ì€ ì—†ëŠ”ê²ƒ ê°™ì•„ìš”..(ê·¸ëƒ¥ ìš°ì—°ì˜ ì¼ì¹˜ì¸ë“¯) ê·¸ë˜ì„œ ì´ ì„¤ëª…ëŒ€ë¡œ ì§„ì§œ ì—…ë°ì´íŠ¸ê°€ ì•ˆë˜ë‚˜ í•˜ê³  í•´ë³´ë‹ˆê¹Œ ì •ë§ ì•ˆë˜ë„¤ìš”!
```
     import * as React from 'react';
import './style.css';

export default function App() {
  const [color, setColor] = React.useState('red');

  return (
    <div>
      <button
        onClick={() => {
          setColor('blue');
        }}
      >
        change color
      </button>
      <div>color in parent: {color}</div>
      <Message messageColor={color} />
    </div>
  );
}
function Message({ messageColor }) {
  const [color, setColor] = React.useState(messageColor);
  return (
    <div>
      <div>-------------------------</div>
      <div>this is Message component!</div>
      <div>color: {color}</div>
    </div>
  );
}
```
2. > ê·œì¹™ì— ë”°ë¼ ì†Œí’ˆ ì´ë¦„ì„ ë‹¤ìŒìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.initialë˜ëŠ”defaultìƒˆ ê°’ì´ ë¬´ì‹œë¨ì„ ëª…í™•íˆ í•˜ê¸° ìœ„í•´:
    - ì»¨ë²¤ì…˜ ê¸°ì–µí•´ë‘ê¸°
3. > ìƒíƒœëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë³µì œë˜ì—ˆìŠµë‹ˆë‹¤.
items = [{ id: 0, title: 'pretzels'}, ...]
selectedItem = {id: 0, title: 'pretzels'}
ê·¸ëŸ¬ë‚˜ ë³€ê²½ í›„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
items = [{ id: 0, title: 'pretzels'}, ...]
selectedId = 0
   - ì´ì „ ì½”ë“œì²˜ëŸ¼ ì„ ì–¸ëœ ìƒíƒœ ê½¤ ìì£¼ ë³¸ ê²ƒ ê°™ê³  ìì£¼ ê·¸ë ‡ê²Œ ì¼ë˜ ê²ƒ ê°™ë„¤ìš”. ì‹±í¬ëŠ” ì–´ë–»ê²Œ ë§ì·„ë˜ ê±°ì§€ ğŸ˜…
4. >  Immer
   - immerê°€ êµ‰ì¥íˆ ì ê·¹ì ìœ¼ë¡œ ì–¸ê¸‰ë˜ì–´ ì¬ë°Œì–´ìš” ã…‹ã…‹ã…‹ã…‹ ì²˜ìŒ ë‚˜ì™”ì„ ë• ë¶„ëª… ì €í¬ ëª¨ë‘ í•„ìš”ì„±ì„ ëŠë¼ì§€ ëª»í–ˆëŠ”ë°.. ì ê·¹ì ìœ¼ë¡œ ì˜ì—…í•˜ëŠ” ë¦¬ì•¡íŠ¸ ë…ìŠ¤..
## Sharing State Between Components
1. > State ëŒì–´ì˜¬ë¦¬ê¸° (lifting state up)
   - ë§ì´ ì‚¬ìš©í•´ì™”ëŠ”ë° ë­ë¼ê³  ë¶€ë¥´ëŠ”ì§€ëŠ” ì²˜ìŒ ì•Œì•˜ë„¤ìš” ã…ã…ã…ã…
2. > ê° stateê°€ ì–´ë””ì— â€œìƒì¡´â€í•´ì•¼ í• ì§€ ê³ ë¯¼í•˜ëŠ” ë™ì•ˆ stateë¥¼ ì•„ë˜ë¡œ ì´ë™í•˜ê±°ë‚˜ ë‹¤ì‹œ ì˜¬ë¦¬ëŠ” ê²ƒì€ í”íˆ ìˆëŠ” ì¼ì…ë‹ˆë‹¤. ì´ê±´ ëª¨ë‘ ê³¼ì •ì˜ ì¼ë¶€ì…ë‹ˆë‹¤!
   - ì‘ì—…í•˜ë©´ì„œ stateë¥¼ ì–˜ê°€ ê°–ê³  ìˆì–´ì•¼í•˜ëŠ”ì§€ ì•„ë‹ˆë©´ ìœ„ë¡œ ì˜¬ë ¤ì„œ propìœ¼ë¡œ ë°›ì„ì§€ ì´ë¦¬ì €ë¦¬ ì˜®ê¸°ë˜ ì§€ë‚œë‚  ì €ì˜ ëª¨ìŠµì´â€¦ ì•ì— ë‚˜ì™”ë˜ state íë¦„ë„ë¥¼ ê·¸ë ¤ê°€ë©° ì‘ì—…ì„ ì‹œì‘í•œë‹¤ë©´ ì¢€ ëœ í—¤ë§¤ì§€ì•Šì„ê¹Œ ì‹¶ìŠµë‹ˆë‹¤
